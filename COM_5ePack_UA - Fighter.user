<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="c5CFtrArAr" name="Arcane Archer" description="An Arcane Archer studies a unique elven method of archery that weaves magic into attacks to produce supernatural effects. Among elves, Arcane Archers are some of their most elite warriors. These archers stand watch over the fringes of elven domains, keeping a keen eye out for trespassers and using magic-infused arrows to defeat monsters and invaders before they can reach elven settlements. Over the centuries, the methods of these elf archers have been learned  by members of other races who can also balance arcane aptitude with archery." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Fighter Martial Archetypes"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="abCategory" tag="FtrMarArch"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    <bootstrap thing="c5CFtrAAAA">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrAAAL">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrAACA">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrAAEA">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrAADA">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    <eval phase="PostLevel" priority="9000"><![CDATA[       doneif (tagis[Helper.Disable] <> 0)

       linkage[table].field[cSpec4thNm].text = "Arcane Shots"
       linkage[table].field[cSpec4thSi].text = "Arcane Shot"

       linkage[table].field[cCustQuTot].arrayvalue[2] += 2
       linkage[table].field[cCustQuTot].arrayvalue[6] += 3
       linkage[table].field[cCustQuTot].arrayvalue[9] += 4
       linkage[table].field[cCustQuTot].arrayvalue[14] += 5
       linkage[table].field[cCustQuTot].arrayvalue[17] += 6]]></eval>
    </thing>
  <thing id="c5CFtrKnig" name="Knight" description="The Knight is a colossus on the battlefield who can shrug off attacks and protect allies from harm. Knights fight from the saddle when they can, and in combat they are expected to seek out and lock down the mightiest of the enemy’s forces. On adventures, they are the armored bulwark that strives to keep the rest of the party safe." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="abCategory" tag="FtrMarArch"/>
    <bootstrap thing="c5CFtrBttS">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrImMa">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrNoCa">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrHotL">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrRapS">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrDefB">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrSamu" name="Samurai" description="The Samurai is a fighter who draws on an implacable fighting spirit to overcome enemies. A Samurai’s willpower is nearly unbreakable, and the enemies in a Samurai’s path have two choices: yield or die fighting." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="abCategory" tag="FtrMarArch"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    <bootstrap thing="c5CFtrFiSp">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrElCo">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrUnWi">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrRapS">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrSTRD">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrShar" name="Sharpshooter" description="The Sharpshooter is a master of ranged combat.  An excellent sniper and eagle-eyed scout, this fighter is a perilous foe who can defeat an entire war band so long as they are kept at range." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="abCategory" tag="FtrMarArch"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    <bootstrap thing="c5CFtrSAim">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrCaEy">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrClQu">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrRapS">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CFtrSnap">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrAAAA" name="Arcane Arrow" description="When you choose this archetype at 3rd level, you learn to channel magic into your attacks with a longbow or shortbow.\n{b}Create Magic Arrow{/b}. As a bonus action on your turn, you can create one magic arrow in your hand. The arrow lasts until the end of the turn or until it hits or misses a target. You can fire the arrow from a shortbow or longbow. The arrow is a magic weapon that deals an additional 2d6 force damage on a hit.\nYou have two uses of this feature, and you regain all expended uses of it when you finish a short or long rest.\n{b}Arcane Shot{/b}. When you gain this feature, you learn two Arcane Shot options of your choice (see the Arcane Shots section below). Whenever you create a magic arrow with this feature, you can apply the benefits of one of your Arcane Shot options to that arrow.\nYou gain an additional Arcane Shot option of your choice at 7th, 10th, 15th, and 18th level." compset="ClSpecial">
    <fieldval field="trkMax" value="2"/>
    <fieldval field="abValue" value="2"/>
    <tag group="User" tag="Tracker"/>
    <tag group="User" tag="Activation"/>
    <tag group="Usage" tag="ShortRest"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where " wProperty.Ammunition & ! wProperty.Loading "
        eachpick.field[wDamExtra].text = "+" & field[abValue].value & "d6 Force"
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrASBA" name="Beguiling Arrow" description="Your enchantment magic causes this arrow to temporarily beguile its target. Choose one of your allies within 30 feet of the target. If the arrow hits the target, the target can’t attack the chosen ally or include that ally in a harmful area of effect until the end of your next turn. The target ignores this effect if it is immune to the charmed condition. This effect also ends if the chosen ally deals any damage to the target." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots" name="Fighter Arcane Archer Arcane Shots" abbrev="Fighter Arcane Archer Arcane Shots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASBB" name="Brute Bane Arrow" description="You weave necromantic magic into your arrow. If a creature is hit by the arrow, any bludgeoning, piercing, or slashing damage dealt by the creature’s attacks is halved until the end of your next turn." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASBu" name="Bursting Arrow" description="You imbue your arrow with a blast of force energy drawn from the school of evocation. If you hit a creature with this arrow, each creature within 10 feet of it takes 2d6 force damage." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASDA" name="Defending Arrow" description="You use abjuration magic to weave a charm that disrupts your enemy’s magic. A creature hit by this arrow suffers disadvantage on the next attack roll it makes before the end of your next turn." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASGA" name="Grasping Arrow" description="When this arrow strikes its target, conjuration magic creates grasping, thorny brambles that wrap around the target. The target hit by the arrow takes a –10 penalty to speed, and it takes 2d6 slashing damage if it moves  1 foot or more without teleporting. The target or any creature that can touch it can use its action to try to remove the brambles, which requires a successful DC 10 Strength check. Otherwise, the brambles last for 1 minute." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASPA" name="Piercing Arrow" description="You use transmutation magic to transform your arrow into an ethereal dart that passes through its targets. When you attack with this arrow, it fires forward in a line that is 1 foot wide and 30 feet long. You make a separate attack using your Arcane Arrow against each creature in that line." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASSA" name="Seeking Arrow" description="Using divination magic, you grant your arrow the ability to seek out your target, allowing the arrow to curve and twist its path in search of its prey. As an action, choose one creature you have seen in the past minute, and make a ranged attack against it, using the Arcane Arrow. The arrow flies around corners if necessary, and this attack ignores three-quarters cover, half cover, and disadvantage caused by the target being out of sight or being at long range. The attack automatically misses if the target is out of the weapon’s range or if there is no path large enough for the arrow to travel to the target. If the arrow hits its target, you know it, but you don’t learn the target’s location unless it’s within your line of sight." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrASSh" name="Shadow Arrow" description="You weave illusion magic into your arrow, causing it to occlude your foe’s vision with grasping shadows. Until the end of your next turn, the target hit by the arrow can’t see more than 30 feet away." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eFMAUACP"/>
    <tag group="Helper" tag="Quaternary"/>
    <tag group="abCategory" tag="FtrAAShots"/>
    <tag group="SpecSource" tag="cHelpFtr"/>
    </thing>
  <thing id="c5CFtrAAAL" name="Archer&apos;s Lore" description="At 3rd level, you learn a few skills relating to the typical duties of an Arcane Archer. You learn to understand magical theory and develop survival skills for wandering the wilds. \nYou gain proficiency in two of the following skills of your choice: Arcana, Athletics, Nature, Perception, Stealth, and Survival." compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; (Reference.skArcana | Reference.skAthletic | Reference.skNature | Reference.skPercep | Reference.skStealth | Reference.skSurvival )"/>
    <fieldval field="usrCandid2" value="component.BaseSkill &amp; (Reference.skArcana | Reference.skAthletic | Reference.skNature | Reference.skPercep | Reference.skStealth | Reference.skSurvival )"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="ChooseSrc2" tag="Hero"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif

      if (field[usrChosen2].ischosen <> 0) then
        perform field[usrChosen2].chosen.pulltags[ProfSkill.?]
        endif

      perform forward[ProfSkill.?]]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CFtrAACA" name="Conjure Arrows" description="At 7th level, you learn a minor but useful magical trick. As an action, you can conjure 20 nonmagical arrows. The arrows appear in your hand or in a container, such as a quiver, on your body. The arrows remain for 10 minutes or until you use this feature again; they then vanish." compset="ClSpecial">
    <fieldval field="abDuration" value="10"/>
    <tag group="abAction" tag="Action"/>
    <tag group="abDuration" tag="Minute"/>
    </thing>
  <thing id="c5CFtrAAEA" name="Ever-Ready Arrow" description="Starting at 15th level, you can conjure forth a magic-infused arrow more often than before. One minute after expending your last remaining use of Arcane Arrow, you regain one use of it." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CFtrAADA" name="Deadly Arrow" description="At 18th level, your Arcane Arrow’s bonus damage increases to 4d6 force damage." compset="ClSpecial">
    <eval phase="PostLevel" priority="9000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

hero.childfound[c5CFtrAAAA].field[abValue].value += 2]]></eval>
    </thing>
  <thing id="c5CFtrBttS" name="Born to the Saddle" description="Starting at 3rd level, mounting or dismounting a creature costs you only 5 feet of movement, rather than half your speed. In addition, you have advantage on saving throws made to avoid falling off your mount. If you fall off it, you can automatically land on your feet if you aren’t incapacitated and you fall less than 10 feet." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CFtrImMa" name="Implacable Mark" description="At 3rd level, you excel at foiling attacks and protecting your allies by menacing your foes. When you hit a creature with a melee weapon attack, the target is marked by you until the end of your next turn. A creature ignores this effect if the creature can’t be frightened. \nThe marked target has disadvantage on any attack roll against a creature other than you or someone else who marked it. \nIf a target marked by you is within 5 feet of you on its turn and it moves at least 1 foot or makes an attack that suffers disadvantage from this feature, you can make one melee weapon attack against it using your reaction. This attack roll has advantage, and if it hits, the attack’s weapon deals extra damage to the target equal to your fighter level. \nYou can make this special attack even if you have already expended your reaction this round, but not if you have already used your reaction this turn. You can make this attack three times, and you regain all expended uses of it when you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abRange" tag="AdjSquare"/>
    <tag group="abAction" tag="5CN1Attack"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where "(wCategory.Melee)"
        eachpick.field[dmmBonus].value += #levelcount[Fighter]
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrNoCa" name="Noble Cavalry" description="At 7th level, you gain proficiency in two of the following skills of your choice: Animal Handling, History, Insight, Persuasion, or Religion. Alternatively, you learn one language of your choice." compset="ClSpecial">
    <fieldval field="usrCandid1" value="(component.BaseSkill &amp; (Reference.skAnimHand | Reference.skHistory | Reference.skInsight | Reference.skPersuas | Reference.skReligion )) | (component.BaseLang &amp; Language.l5Cchooser )"/>
    <fieldval field="usrCandid2" value="(component.BaseSkill &amp; (Reference.skAnimHand | Reference.skHistory | Reference.skInsight | Reference.skPersuas | Reference.skReligion )) | (component.BaseLang &amp; Language.l5Cchooser )"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <tag group="ChooseSrc2" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        if (field[usrChosen1].chosen.tagis[Language.l5Cchooser] <> 0) then
        field[abValue].value += 1
        else
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif
      endif

      if (field[usrChosen2].ischosen <> 0) then
        if (field[usrChosen2].chosen.tagis[Language.l5Cchooser] <> 0) then
        field[abValue].value += 1
        else
        perform field[usrChosen2].chosen.pulltags[ProfSkill.?]
        endif
      endif
      perform forward[ProfSkill.?]

      doneif (isroot = 0)

      doneif (root.islinkage[table] = 0)
      doneif (field[abValue].value = 0)

      perform root.linkage[table].setfocus

      ~ Set our bonus languages in the first empty table we find
      if (focus.field[cLangMax].value = 0) then
        focus.field[cLangMax].value += field[abValue].value
        focus.field[cLaCandExp].text = "component.BaseLang"
      elseif (focus.field[cLangMax2].value = 0) then
        focus.field[cLangMax2].value += field[abValue].value
        focus.field[cLaCandEx2].text = "component.BaseLang"
      elseif (focus.field[cLangMax3].value = 0) then
        focus.field[cLangMax3].value += field[abValue].value
        focus.field[cLaCandEx3].text = "component.BaseLang"
        endif]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="l5Cchooser" name="Language" description="Used to pick a language in certain class features." compset="Language" uniqueness="useronce">
    <tag group="LangCat" tag="Other"/>
    </thing>
  <thing id="c5CFtrHotL" name="Hold the Line" description="At 10th level, you master the ability to harass and slow your enemies. As a reaction when a creature moves at least 1 foot within 5 feet of you, you can make one melee weapon attack against that creature. If you hit, the attack’s weapon deals extra damage to the target equal to half your fighter level, and the target’s speed is reduced to 0 until the end of this turn." compset="ClSpecial">
    <tag group="abAction" tag="Reaction"/>
    <tag group="abRange" tag="AdjSquare"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where "(wCategory.Melee)"
        eachpick.field[dmmBonus].value += #levelcount[Fighter] / 2
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrRapS" name="Rapid Strike" description="Starting at 15th level, you learn to trade accuracy for swift strikes. If you have advantage on a weapon attack against a target on your turn, you can forgo that advantage to immediately make an additional weapon attack against the same target as a bonus action." compset="ClSpecial">
    <tag group="abDuration" tag="Constant"/>
    <tag group="abRange" tag="Personal"/>
    </thing>
  <thing id="c5CFtrDefB" name="Defender’s Blade" description="At 18th level, you respond to danger with extraordinary vigilance. You can use your reaction for an opportunity attack even if you have already expended your reaction this round, but not if you have already used your reaction this turn. In addition, you gain a +1 bonus to AC while wearing heavy armor." compset="ClSpecial">
    <tag group="abAction" tag="5CN1Attack"/>
    <tag group="abAction" tag="Reaction"/>
    <eval phase="Final" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

     field[abValue].value = 0
     foreach pick in hero from BaseArmor where "( ArmorClass.Heavy ) & ( Helper.CurrArmor )"
          field[abValue].value = 1
     nexteach
     hero.childfound[ArmorClass].field[Bonus].value += field[abValue].value]]></eval>
    </thing>
  <thing id="c5CFtrFiSp" name="Fighting Spirit" description="Starting at 3rd level, the might of your willpower can shield you and help you strike true. As a bonus action on your turn, you can give yourself two benefits: advantage on all attack rolls and resistance to bludgeoning, piercing, and slashing damage. These benefits last until the end of your next turn. You can use this feature three times. You regain all expended uses of it when you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="DamageRes" tag="dtPiercing" name="Piercing" abbrev="Piercing"/>
    <tag group="DamageRes" tag="dtSlashing" name="Slashing" abbrev="Slashing"/>
    <tag group="DamageRes" tag="dtBludgeon" name="Bludgeoning" abbrev="Bludgeoning"/>
    <eval phase="PostLevel" priority="10000">doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

perform forward[DamageRes.?]</eval>
    </thing>
  <thing id="c5CFtrElCo" name="Elegant Courtier" description="Starting at 7th level, your discipline and attention to detail allow you to excel in social situations that require strict adherence to etiquette. You can add your Wisdom modifier to any Charisma check you make to persuade or please a noble or anyone else of high social station.\nYou also gain proficiency in the History, Insight, or Persuasion skill  (choose one). Alternatively, you learn one language of your choice." compset="ClSpecial">
    <fieldval field="usrCandid1" value="(component.BaseSkill &amp; ( Reference.skHistory | Reference.skInsight | Reference.skPersuas )) | (component.BaseLang &amp; Language.l5Cchooser )"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        if (field[usrChosen1].chosen.tagis[Language.l5Cchooser] <> 0) then
        field[abValue].value += 1
        else
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
        endif
      endif

      perform forward[ProfSkill.?]

      doneif (isroot = 0)

      doneif (root.islinkage[table] = 0)
      doneif (field[abValue].value = 0)

      perform root.linkage[table].setfocus

      ~ Set our bonus languages in the first empty table we find
      if (focus.field[cLangMax].value = 0) then
        focus.field[cLangMax].value += field[abValue].value
        focus.field[cLaCandExp].text = "component.BaseLang"
      elseif (focus.field[cLangMax2].value = 0) then
        focus.field[cLangMax2].value += field[abValue].value
        focus.field[cLaCandEx2].text = "component.BaseLang"
      elseif (focus.field[cLangMax3].value = 0) then
        focus.field[cLangMax3].value += field[abValue].value
        focus.field[cLaCandEx3].text = "component.BaseLang"
        endif]]>
      <before name="Calc skProfBon"/>
      </eval>
    <eval phase="PostAttr" priority="10000" index="2"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

hero.child[skPersuas].field[Bonus].value += hero.child[aWIS].field[aBonus].value]]></eval>
    </thing>
  <thing id="c5CFtrUnWi" name="Unbreakable Will" description="At 10th level, your superior willpower allows you to shrug off mind-assaulting effects. You gain proficiency in Wisdom saving throws. If you already have this proficiency, you gain proficiency in Intelligence or Charisma saving throws (choose one)." compset="ClSpecial">
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

~are we proficient in wisdom saves?
if (hero.tagis[ProfSave.svWIS] = 0) then
   ~no, but now we are
   perform hero.assign[ProfSave.svWIS]
else 
   ~yes, then pick another attr
   field[usrCandid1].text = "component.BaseAttr & ( IsAttr.aINT | IsAttr.aCHA )"
   perform assign[ChooseSrc1.Hero]
   if (field[usrChosen1].ischosen <> 0) then
     if (field[usrChosen1].chosen.tagis[IsAttr.aINT] <> 0) then
       perform hero.assign[ProfSave.svINT]
     else
       perform hero.assign[ProfSave.svCHA]
     endif
   endif
endif]]></eval>
    </thing>
  <thing id="c5CFtrSTRD" name="Strength Before Death" description="Starting at 18th level, your fighting spirit can delay the grasp of death. If you take damage that would reduce you to 0 hit points, you can delay that damage and immediately take a bonus turn, interrupting the current turn. You don’t take the damage until the bonus turn ends. It is possible to do things, such as gaining resistance, that change how much of that damage you take. \nOnce you use this feature, you can’t use it again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abAction" tag="None"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CFtrSAim" name="Steady Aim" description="Beginning when you choose this archetype at 3rd level, your aim becomes deadly. As a bonus action on your turn, you can take careful aim at a creature you can see that is within range of a ranged weapon you’re wielding. Until the end of this turn, your ranged attacks with that weapon gain two benefits against the target:\n\n•  The attacks ignore half and three-quarters cover.  \n•  On each hit, the weapon deals additional damage to the target equal to 2 + half your fighter level. \n\nYou can use this feature three times. You regain all expended uses of it when you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="abDuration" value="1"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)

foreach pick in hero from BaseWep where " wProperty.Ammunition & ! wProperty.Loading "
        eachpick.field[dmrBonus].value += #levelcount[Fighter] / 2 + 2
      nexteach]]></eval>
    </thing>
  <thing id="c5CFtrCaEy" name="Careful Eyes" description="Starting at 7th level, you excel at picking out  hidden enemies and other threats. You can take  the Search action as a bonus action.  \nYou also gain proficiency in the Perception,  Investigation, or Survival skill (choose one)." compset="ClSpecial">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; ( Reference.skInvestig | Reference.skPercep | Reference.skSurvival )"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      doneif (tagis[Helper.ShowSpec] = 0)
      doneif (tagis[Helper.Disable] <> 0)

      if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
      endif
      perform forward[ProfSkill.?]]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CFtrClQu" name="Close-Quarters Shooting" description="At 10th level, you learn to handle yourself in close combat. Making a ranged attack roll while within 5 feet of an enemy doesn’t impose disadvantage on your roll.  \nIn addition, if you hit a creature within 5 feet of you with a ranged attack on your turn, that creature can’t take reactions until the end of this turn." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CFtrSnap" name="Snap Shot" description="Starting at 18th level, you are ever ready to spring into action. If you take the Attack action on your first turn of a combat, you can make one additional ranged weapon attack as part of that action." compset="ClSpecial">
    <fieldval field="abDuration" value="1st"/>
    <tag group="abDuration" tag="Round"/>
    <tag group="abRange" tag="Personal"/>
    </thing>
  </document>
